Module("pp",[Imports([Import("libstratego-gpp"),Import("libspoofax/sdf/pp"),ImportWildcard("libspoofax/editor/refactoring"),Import("pp/Haskell-parenthesize"),Import("pp/Haskell-pp"),Import("annotatebox")]),Rules([ExtSDef("apply-lc-to-box",[],[])]),Rules([RDefNoArgs("editor-format",Rule(NoAnnoList(Tuple([Var("node"),Wld,Var("ast"),Var("path"),Var("project-path")])),NoAnnoList(Tuple([Var("filename"),Var("result")])),[WithClause(Seq(Assign(Var("ext"),App(CallNoArgs(SVar("get-extension")),Var("path"))),Seq(Assign(Var("filename"),App(CallT(SVar("guarantee-extension"),[],[NoAnnoList(StringQuotation1("                                          ",[QStr("sdf3pp."),StringEscape1("                                                 ",Var("ext"))]))]),Var("path"))),Assign(Var("result"),App(CallNoArgs(SVar("pp-debug")),Var("node"))))))]))]),Rules([]),Rules([SDefNoArgs("pp-Haskell-string",Seq(CallNoArgs(SVar("parenthesize-Haskell")),Seq(CallNoArgs(SVar("prettyprint-Haskell-start-symbols")),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),Seq(CallT(SVar("annotate-box-line-col"),[],[NoAnnoList(Op("Position",[NoAnnoList(Int("1")),NoAnnoList(Int("1"))]))]),Seq(CallNoArgs(SVar("apply-lc-to-box")),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))))),SDefNoArgs("pp-partial-Haskell-string",Seq(CallNoArgs(SVar("parenthesize-Haskell")),Seq(CallNoArgs(SVar("prettyprint-Haskell")),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))),SDefT("pp-partial-Haskell-string",[],[DefaultVarDec("sort")],Seq(CallNoArgs(SVar("parenthesize-Haskell")),Seq(CallT(SVar("prettyprint-Haskell"),[],[Var("sort")]),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))),RDefNoArgs("pp-debug",Rule(Var("ast"),Var("result"),[WithClause(LChoice(Assign(Var("result"),App(CallNoArgs(SVar("pp-Haskell-string")),Var("ast"))),Seq(BA(Call(SVar("bottomup"),[Call(SVar("try"),[Seq(Not(CallNoArgs(SVar("is-string"))),Seq(Not(CallNoArgs(SVar("is-list"))),Seq(Not(CallNoArgs(SVar("pp-Haskell-string"))),Call(SVar("debug"),[Build(NoAnnoList(Str("\"cannot pp \"")))]))))])]),Var("ast")),Assign(Var("result"),NoAnnoList(Str("\"\""))))))]))]),Rules([SDefNoArgs("construct-textual-change",Call(SVar("construct-textual-change"),[CallNoArgs(SVar("pp-partial-Haskell-string")),CallNoArgs(SVar("parenthesize")),CallNoArgs(SVar("override-reconstruction")),CallNoArgs(SVar("resugar"))])),SDefNoArgs("check-nonterminal-isEmpty",Match(NoAnnoList(Op("Empty",[]))))])])